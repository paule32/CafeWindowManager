SHELL=/bin/sh

@SET_MAKE@

top_srcdir=@top_srcdir@
srcdir=@srcdir@
prefix=@prefix@
exec_prefix=@exec_prefix@
bin_dir=@exec_prefix@/bin
x_includes=@x_includes@
x_libraries=@x_libraries@

#
# Libs
X_LIBRARY=-lX11 @LIBS@
XEXT_LIBRARY=-lXext
XPM_LIBRARY=-lXpm
LIBS=-L${top_srcdir}/libs ${x_libraries} ${XPM_LIBRARY} ${XEXT_LIBRARY} ${X_LIBRARY}

EXTRA_DEFINES=-DXPM

CC=g++
INCLUDES=-I${top_srcdir}/include -I/usr/include -I/usr/include/X11
CXXFLAGS=${INCLUDES} ${EXTRA_DEFINES} -Wall -Wextra -Werror
MAKEDEPEND=@MAKEDEPEND@
INSTALL=@INSTALL@
INSTALL_PROGRAM=@INSTALL_PROGRAM@
RM=@RM@

OBJDIR=./obj

PROG=cafewm

SRCS=\
	cafewm.cc \
	cafedisplay.cc \
	cafedesktop.cc \
	caferect.cc \
	cafesession.cc \
	cafewindow.cc
 
OBJS=\
	cafewm.o \
	cafedisplay.o \
	cafedesktop.o \
	caferect.o \
	cafesession.o \
	cafewindow.o

all: ${PROG}

depend:
	${MAKEDEPEND} ${CFLAGS} ${SRCS}

install: all
	${INSTALL_PROGRAM} ${PROG} ${bin_dir}

clean:
	${RM} ${PROG} ${OBJS} *~ core *.bak

distclean: clean

${PROG}: ${OBJS}
	${CC} ${CXXFLAGS} -o ${PROG} ${OBJS} ${LIBS}

